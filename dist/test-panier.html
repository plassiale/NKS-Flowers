<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><title>Panier HTML5 + JavaScript</title><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet"><script type="text/javascript">function LignePanier(t,i,e){this.codeArticle=t,this.qteArticle=i,this.prixArticle=e,this.ajouterQte=function(t){this.qteArticle+=t},this.getPrixLigne=function(){var t=this.prixArticle*this.qteArticle;return t},this.getCode=function(){return this.codeArticle}}function Panier(){this.liste=[],this.ajouterArticle=function(t,i,e){var r=this.getArticle(t);-1==r?this.liste.push(new LignePanier(t,i,e)):this.liste[r].ajouterQte(i)},this.getPrixPanier=function(){for(var t=0,i=0;i<this.liste.length;i++)t+=this.liste[i].getPrixLigne();return t},this.getArticle=function(t){for(var i=0;i<this.liste.length;i++)if(t==this.liste[i].getCode())return i;return-1},this.supprimerArticle=function(t){var i=this.getArticle(t);i>-1&&this.liste.splice(i,1)}}</script><script type="text/javascript">function ajouter(){var e=parseInt(document.getElementById("id").value),n=parseInt(document.getElementById("qte").value),r=parseInt(document.getElementById("prix").value),t=new Panier;t.ajouterArticle(e,n,r);var i=document.getElementById("tableau"),l=parseInt(document.getElementById("nbreLignes").innerHTML);if(l>0)for(var s=l;s>0;s--)t.ajouterArticle(parseInt(i.rows[s].cells[0].innerHTML),parseInt(i.rows[s].cells[1].innerHTML),parseInt(i.rows[s].cells[2].innerHTML)),i.deleteRow(s);for(var a=t.liste.length,s=0;a>s;s++){var o=t.liste[s],c=i.insertRow(-1),p=c.insertCell(0);p.innerHTML+=o.getCode();var m=c.insertCell(1);m.innerHTML+=o.qteArticle;var u=c.insertCell(2);u.innerHTML+=o.prixArticle;var d=c.insertCell(3);d.innerHTML+=o.getPrixLigne();var L=c.insertCell(4);L.innerHTML+='<button class="btn btn-primary" type="submit" onclick="supprimer(this.parentNode.parentNode.cells[0].innerHTML)"><span class="glyphicon glyphicon-remove"></span> Retirer</button>'}document.getElementById("prixTotal").innerHTML=t.getPrixPanier(),document.getElementById("nbreLignes").innerHTML=a}function supprimer(e){var n=new Panier,r=document.getElementById("tableau"),t=parseInt(document.getElementById("nbreLignes").innerHTML);if(t>0)for(var i=t;i>0;i--)n.ajouterArticle(parseInt(r.rows[i].cells[0].innerHTML),parseInt(r.rows[i].cells[1].innerHTML),parseInt(r.rows[i].cells[2].innerHTML)),r.deleteRow(i);n.supprimerArticle(e);for(var l=n.liste.length,i=0;l>i;i++){var s=n.liste[i],a=r.insertRow(-1),o=a.insertCell(0);o.innerHTML+=s.getCode();var c=a.insertCell(1);c.innerHTML+=s.qteArticle;var p=a.insertCell(2);p.innerHTML+=s.prixArticle;var m=a.insertCell(3);m.innerHTML+=s.getPrixLigne();var u=a.insertCell(4);u.innerHTML+='<button class="btn btn-primary" type="submit" onclick="supprimer(this.parentNode.parentNode.cells[0].innerHTML)"><span class="glyphicon glyphicon-remove"></span> Retirer</button>'}document.getElementById("prixTotal").innerHTML=n.getPrixPanier(),document.getElementById("nbreLignes").innerHTML=l}</script></head><body><section class="container"><article class="well form-inline pull-left col-lg-5"><legend>Gestion du panier</legend><label class="col-lg-3">Identifiant</label>: <input type="number" id="id" style="width:120px" class="input-sm form-control"><br><br><label class="col-lg-3">Quantit√©</label>: <input type="number" id="qte" style="width:120px" class="input-sm form-control"><br><br><label class="col-lg-3">Prix</label>: <input type="number" id="prix" style="width:120px" class="input-sm form-control"><br><br><button class="btn btn-primary" type="submit" onclick="ajouter()"><span class="glyphicon glyphicon-shopping-cart"></span> Ajouter au panier</button></article></section><section class="container"><article class="well form-inline pull-left col-lg-5"><legend>Contenu du panier</legend><table id="tableau" class="table"><thead><tr><th>Code</th><th>Qte</th><th>Prix unitaire</th><th>Prix de la ligne</th><th>Supprimer</th></tr></thead></table><br><label>Prix du panier total</label>:<label id="prixTotal"></label><label id="nbreLignes" hidden>0</label></article></section></body></html>